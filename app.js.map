{"version":3,"file":"app.js","sources":["../app/app.js"],"sourcesContent":["import {\n  getQueryStringParam, substanceGlobals, platform\n} from 'substance'\nimport { vfsSaveHook } from 'substance-texture'\nimport { StencilaWebApp, StencilaArchive } from 'stencila'\n\nwindow.addEventListener('load', () => {\n  substanceGlobals.DEBUG_RENDERING = platform.devtools\n  DevWebApp.mount({\n    archiveId: getQueryStringParam('archive') || 'kitchen-sink',\n    storageType: getQueryStringParam('storage') || 'vfs',\n    storageUrl: getQueryStringParam('storageUrl') || '/archives'\n  }, window.document.body)\n})\n\n// This uses a monkey-patched VfsStorageClient that checks immediately\n// if the stored data could be loaded again, or if there is a bug in\n// Textures exporter\nclass DevWebApp extends StencilaWebApp {\n\n  _getStorage(storageType) {\n    let storage = super._getStorage(storageType)\n    if (storageType === 'vfs') {\n      vfsSaveHook(storage, StencilaArchive)\n    }\n    return storage\n  }\n}"],"names":["substanceGlobals","platform","getQueryStringParam","StencilaWebApp","vfsSaveHook","StencilaArchive"],"mappings":";;;;;;EAMA,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM;EACtC,EAAEA,0BAAgB,CAAC,eAAe,GAAGC,kBAAQ,CAAC,SAAQ;EACtD,EAAE,SAAS,CAAC,KAAK,CAAC;EAClB,IAAI,SAAS,EAAEC,6BAAmB,CAAC,SAAS,CAAC,IAAI,cAAc;EAC/D,IAAI,WAAW,EAAEA,6BAAmB,CAAC,SAAS,CAAC,IAAI,KAAK;EACxD,IAAI,UAAU,EAAEA,6BAAmB,CAAC,YAAY,CAAC,IAAI,WAAW;EAChE,GAAG,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAC;EAC1B,CAAC,EAAC;;EAEF;EACA;EACA;EACA,MAAM,SAAS,SAASC,uBAAc,CAAC;;EAEvC,EAAE,WAAW,CAAC,WAAW,EAAE;EAC3B,IAAI,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,WAAW,EAAC;EAChD,IAAI,IAAI,WAAW,KAAK,KAAK,EAAE;EAC/B,MAAMC,4BAAW,CAAC,OAAO,EAAEC,wBAAe,EAAC;EAC3C,KAAK;EACL,IAAI,OAAO,OAAO;EAClB,GAAG;EACH;;;;"}